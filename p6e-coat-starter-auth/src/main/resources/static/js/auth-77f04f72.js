import{A as n,u as o}from"./auth-f5d6d495.js";import{H as c}from"./index-29842074.js";const d=c("me",{state:()=>({id:-1,status:-1,enabled:-1,name:"",avatar:"",nickname:"",phone:"",mailbox:"",account:"",description:""}),actions:{async init(){const t=await n.me.info();t&&t.code===0&&(this.$state.id=t.data.id,this.$state.status=t.data.status,this.$state.enabled=t.data.enabled,this.$state.account=t.data.account,this.$state.name=t.data.name,this.$state.avatar=t.data.avatar,this.$state.nickname=t.data.nickname,this.$state.phone=t.data.phone,this.$state.mailbox=t.data.mailbox,this.$state.description=t.data.description)}}});let s=!1,a=!1;const r=d(),i=o(),h=async()=>{if(!s&&!a){s=!0;const t=i.init();if(t&&t.accessToken){const e=await i.vf();e&&e.code===0&&(await r.init(),a=!0)}}return a},f={init:h};export{f as A,d as u};
